<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>AIKariyer â€“ Ã‡ok YakÄ±nda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .box {
      max-width: 480px;
      text-align: center;
      padding: 32px;
    }
    h1 { font-size: 32px; margin-bottom: 12px; }
    p { opacity: 0.9; }
    input {
      width: 100%;
      padding: 12px;
      margin-top: 16px;
      border-radius: 8px;
      border: none;
      text-align: center;
    }
    button {
      margin-top: 12px;
      padding: 12px 0;
      width: 50%;
      border-radius: 8px;
      border: none;
      background: #38bdf8;
      font-weight: 600;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .message {
      margin-top: 16px;
      font-size: 16px;
      opacity: 0.9;
    }
  </style>
</head>
<body>

<div class="box">
  <h1>Kariyer AsistanÄ±n Ã‡ok YakÄ±nda YayÄ±nda</h1>
  <p>
    Yapay zekÃ¢ destekli kariyer asistanÄ±mÄ±z yayÄ±na hazÄ±rlanÄ±yor.
    Ä°lk sen haberdar olmak ister misin?
  </p>

  <form id="subscribe-form">
    <input type="email" name="email" placeholder="E-posta adresin" required />
    <button type="submit">Haberdar Et</button>
  </form>

  <p style="font-size:12px;opacity:.6;margin-top:12px">
    Spam yok. Sadece yayÄ±na aÃ§Ä±ldÄ±ÄŸÄ±nda haber.
  </p>

  <div class="message" id="message"></div>
</div>

<script>
  const form = document.getElementById("subscribe-form");
  const messageDiv = document.getElementById("message");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = form.email.value;

    try {
      const res = await fetch("/api/subscribe", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email })
      });

      if (res.ok) {
        messageDiv.innerHTML = "ğŸ‰ TeÅŸekkÃ¼rler! Ã‡ok yakÄ±nda buradayÄ±z.";
        form.reset();
      } else {
        const err = await res.text();
        if (err.includes("duplicate")) {
          messageDiv.innerHTML = "ğŸ˜ HeyecanÄ±nÄ±zÄ± anlÄ±yoruz, mail adresiniz zaten kayÄ±tlÄ±!";
        } else {
          messageDiv.innerHTML = "âš ï¸ Bir hata oluÅŸtu, tekrar deneyin.";
        }
      }
    } catch (err) {
      messageDiv.innerHTML = "âš ï¸ Ä°letiÅŸim hatasÄ±: " + err.message;
    }
  });
</script>

</body>
</html>
